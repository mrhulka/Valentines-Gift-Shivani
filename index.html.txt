<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Forever Valentine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:ital@0;1&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #050505; color: #ffffff; overflow: hidden; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .fade-in { animation: fadeIn 2s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .gallery-image { transition: opacity 1.2s ease-in-out, transform 1.5s ease-out; }
        .nav-btn { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.4s ease; display: flex; align-items: center; justify-content: center; z-index: 50; }
        .nav-btn:hover:not(:disabled) { background: rgba(255, 255, 255, 0.15); transform: scale(1.1); border-color: rgba(255, 255, 255, 0.4); }
        .nav-btn:disabled { opacity: 0; cursor: default; }
        .landing-bg { background-color: #1a1a1a; background-size: cover; background-position: center; }
        .page-counter { position: absolute; top: 20px; right: 20px; font-size: 0.75rem; color: rgba(255,255,255,0.4); letter-spacing: 0.1em; }
    </style>
</head>
<body>

    <div id="landing-page" class="fixed inset-0 z-50 flex flex-col items-center justify-center landing-bg transition-opacity duration-1000">
        <div class="relative z-10 text-center px-6 fade-in">
            <h1 class="text-5xl md:text-7xl font-serif mb-6 italic text-white drop-shadow-2xl">To My Forever Valentine</h1>
            <p class="text-white/70 text-sm tracking-[0.3em] uppercase mb-10">Our Story in 50 Melodies</p>
            <button onclick="startExperience()" class="group relative px-12 py-4 overflow-hidden rounded-full border border-white/40 bg-black/30 backdrop-blur-md transition-all duration-500 hover:border-white/80">
                <span class="relative z-10 tracking-widest uppercase text-xs font-bold text-white group-hover:text-black">Enter Our Story</span>
                <div class="absolute inset-0 bg-white translate-y-full transition-transform duration-500 group-hover:translate-y-0"></div>
            </button>
        </div>
    </div>

    <main id="gallery-container" class="relative h-screen w-screen hidden">
        <div class="page-counter" id="counter">1 / 50</div>
        
        <div id="image-frame" class="absolute inset-0 flex items-center justify-center overflow-hidden">
            <img id="current-photo" src="" alt="Memory" class="gallery-image w-full h-full object-cover opacity-0 scale-110">
            <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/80"></div>
        </div>

        <div class="absolute bottom-12 left-1/2 -translate-x-1/2 z-30 w-[90%] max-w-md">
            <div id="spotify-wrapper" class="rounded-xl overflow-hidden shadow-2xl"></div>
        </div>

        <div class="absolute inset-y-0 left-0 w-24 flex items-center justify-center">
            <button id="prev-btn" onclick="prevSlide()" class="nav-btn p-5 rounded-full" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            </button>
        </div>

        <div class="absolute inset-y-0 right-0 w-24 flex items-center justify-center">
            <button id="next-btn" onclick="nextSlide()" class="nav-btn p-5 rounded-full">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
            </button>
        </div>
    </main>

    <script>
        const galleryData = [
            { name: "Photo 1", url: "https://open.spotify.com/embed/track/1wqqyytFD8HoKWg06T1GCo?utm_source=generator" },
            { name: "Photo 2", url: "https://open.spotify.com/embed/track/73m0ROzv1B86iNvuo8rh8z?utm_source=generator" },
            { name: "Photo 3", url: "https://open.spotify.com/embed/track/58xpZwxUpgrnJMTEmvkZMP?utm_source=generator" },
            { name: "Photo 4", url: "https://open.spotify.com/embed/track/5zK7gzWMZlT4TUf2iN2Wjw?utm_source=generator" },
            { name: "Photo 5", url: "https://open.spotify.com/embed/track/5RZbS87YI2wd87SWuO0YAX?utm_source=generator" },
            { name: "Photo 6", url: "https://open.spotify.com/embed/track/3XTHsBseNmEUVVHETYyWY8?utm_source=generator" },
            { name: "Photo 7", url: "https://open.spotify.com/embed/track/3eSm4iAkLsn3BeggfiQOH9?utm_source=generator" },
            { name: "Photo 8", url: "https://open.spotify.com/embed/track/7uNnlVit5qDvfOje0pqICF?utm_source=generator" },
            { name: "Photo 9", url: "https://open.spotify.com/embed/track/5mhuZ0inchJ2JimeGZInfB?utm_source=generator" },
            { name: "Photo 10", url: "https://open.spotify.com/embed/track/63O4z4rOnyzY62vWjI6275?utm_source=generator" },
            { name: "Photo 11", url: "https://open.spotify.com/embed/track/4jS4qC7hX5441u2P09O9k8?utm_source=generator" },
            { name: "Photo 12", url: "https://open.spotify.com/embed/track/3sv34YWhVo15mL7SPrAUKf?utm_source=generator" },
            { name: "Photo 13", url: "https://open.spotify.com/embed/track/0Y4f2WjKx7qG7y0P0n9xGv?utm_source=generator" },
            { name: "Photo 14", url: "https://open.spotify.com/embed/track/1p80pxDujUnbu9v583psD7?utm_source=generator" },
            { name: "Photo 15", url: "https://open.spotify.com/embed/track/37f8SpxK3XMC67W272mX1I?utm_source=generator" },
            { name: "Photo 16", url: "https://open.spotify.com/embed/track/2SST07z817v6eS3SpsD4iI?utm_source=generator" },
            { name: "Photo 17", url: "https://open.spotify.com/embed/track/6UelLqGlWMvD99569u7G9e?utm_source=generator" },
            { name: "Photo 18", url: "https://open.spotify.com/embed/track/27AAnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 19", url: "https://open.spotify.com/embed/track/0IAnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 20", url: "https://open.spotify.com/embed/track/1AnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 21", url: "https://open.spotify.com/embed/track/1XmH5XF9S2Xf0Y9p9xGv?utm_source=generator" },
            { name: "Photo 22", url: "https://open.spotify.com/embed/track/3AnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 23", url: "https://open.spotify.com/embed/track/6AnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 24", url: "https://open.spotify.com/embed/track/2pI8PivN6t7jX0n9xGv?utm_source=generator" },
            { name: "Photo 25", url: "https://open.spotify.com/embed/track/5AnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 26", url: "https://open.spotify.com/embed/track/4pI8PivN6t7jX0n9xGv?utm_source=generator" },
            { name: "Photo 27", url: "https://open.spotify.com/embed/track/7AnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 28", url: "https://open.spotify.com/embed/track/9AnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 29", url: "https://open.spotify.com/embed/track/8AnpXWJmIdA99yE1C6L6?utm_source=generator" },
            { name: "Photo 30", url: "https://open.spotify.com/embed/track/3S8967pI8PivN6t7jX0n9xGv?utm_source=generator" },
            { name: "Photo 31", url: "https://open.spotify.com/embed/track/4pI8PivN6t7jX0n9xGv?utm_source=generator" },
            { name: "Photo 32", url: "https://open.spotify.com/embed/track/5S8967pI8PivN6t7jX0n9xGv?utm_source=generator" },
            { name: "Photo 33", url: "https://open.spotify.com/embed/track/1Lko63YWHsL2iN6t7jX0n9xGv?utm_source=generator" },
            { name: "Photo 34", url: "https://open.spotify.com/embed/track/2uC8CoidgacQzx9f01n73h?utm_source=generator" },
            { name: "Photo 35", url: "https://open.spotify.com/embed/track/1uC8CoidgacQzx9f01n73h?utm_source=generator" },
            { name: "Photo 36", url: "https://open.spotify.com/embed/track/2kW6AMK99mnEO6X01r2E3T?utm_source=generator" },
            { name: "Photo 37", url: "https://open.spotify.com/embed/track/29ZOsiLkEf9vNyG51FEjtH?utm_source=generator" },
            { name: "Photo 38", url: "https://open.spotify.com/embed/track/3bbzeZcfsK0ac7rdN2s7WX?utm_source=generator" },
            { name: "Photo 39", url: "https://open.spotify.com/embed/track/5se0sLcaUymYKRUm0lCBgt?utm_source=generator" },
            { name: "Photo 40", url: "https://open.spotify.com/embed/track/59HjNZgoziKgAwGOhrKRPJ?utm_source=generator" },
            { name: "Photo 41", url: "https://open.spotify.com/embed/track/7nHQjVpEncX7NEdA2G6kU1?utm_source=generator" },
            { name: "Photo 42", url: "https://open.spotify.com/embed/track/7KdYFnUeFLLaFeH8XwbQKk?utm_source=generator" },
            { name: "Photo 43", url: "https://open.spotify.com/embed/track/3sv34YWhVo15mL7SPrAUKf?utm_source=generator" },
            { name: "Photo 44", url: "https://open.spotify.com/embed/track/1p80pxDujUnbu9v583psD7?utm_source=generator" },
            { name: "Photo 45", url: "https://open.spotify.com/embed/track/3XTHsBseNmEUVVHETYyWY8?utm_source=generator" },
            { name: "Photo 46", url: "https://open.spotify.com/embed/track/58xpZwxUpgrnJMTEmvkZMP?utm_source=generator" },
            { name: "Photo 47", url: "https://open.spotify.com/embed/track/73m0ROzv1B86iNvuo8rh8z?utm_source=generator" },
            { name: "Photo 48", url: "https://open.spotify.com/embed/track/1wqqyytFD8HoKWg06T1GCo?utm_source=generator" },
            { name: "Photo 49", url: "https://open.spotify.com/embed/track/5uCax9HTlsZ9I99vwrvYKW?utm_source=generator" },
            { name: "Photo 50", url: "https://open.spotify.com/embed/track/4kbj5MqbdyPST7j9vYv9Mt?utm_source=generator" }
        ];

        const extensions = ['.jpg', '.jpeg', '.HEIC', '.png', '.JPG', '.JPEG', '.heic', '.PNG'];
        let currentIndex = 0;

        function startExperience() {
            document.getElementById('landing-page').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('landing-page').classList.add('hidden');
                document.getElementById('gallery-container').classList.remove('hidden');
                updateSlide();
            }, 1000);
        }

        function tryLoadImage(imgElement, photoName, extIndex = 0) {
            if (extIndex >= extensions.length) {
                imgElement.src = "https://images.unsplash.com/photo-1518193582231-507981da40b2?q=80&w=2000&auto=format&fit=crop";
                imgElement.style.opacity = '1';
                return;
            }
            const testSrc = `images/${photoName}${extensions[extIndex]}`;
            const tester = new Image();
            tester.onload = () => {
                imgElement.src = testSrc;
                imgElement.style.opacity = '1';
                imgElement.style.transform = 'scale(1.0)';
            };
            tester.onerror = () => tryLoadImage(imgElement, photoName, extIndex + 1);
            tester.src = testSrc;
        }

        function updateSlide() {
            const current = galleryData[currentIndex];
            const photo = document.getElementById('current-photo');
            const counter = document.getElementById('counter');
            
            photo.style.opacity = '0';
            photo.style.transform = 'scale(1.1)';
            counter.innerText = `${currentIndex + 1} / ${galleryData.length}`;

            setTimeout(() => {
                document.getElementById('spotify-wrapper').innerHTML = `
                    <iframe style="border-radius:12px" src="${current.url}" 
                    width="100%" height="152" frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>`;
                
                tryLoadImage(photo, current.name);
                document.getElementById('prev-btn').disabled = (currentIndex === 0);
                document.getElementById('next-btn').disabled = (currentIndex === galleryData.length - 1);
            }, 600);
        }

        function nextSlide() { if (currentIndex < galleryData.length - 1) { currentIndex++; updateSlide(); } }
        function prevSlide() { if (currentIndex > 0) { currentIndex--; updateSlide(); } }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        window.onload = () => {
            const landing = document.getElementById('landing-page');
            extensions.forEach(ext => {
                const img = new Image();
                img.onload = () => landing.style.backgroundImage = `linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.8)), url('images/Photo 1${ext}')`;
                img.src = `images/Photo 1${ext}`;
            });
        };
    </script>
</body>
</html>
